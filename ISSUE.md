# 개발하면서 겪은 이슈

## re-render

먼저 랜더링의 동작은 부모 컴포넌트 -> 자식 컴포넌트 순으로 순차적으로 랜더링된다. 즉 부모 컴포넌트를 랜더링, 리랜더링시키면 자식 컴포넌트도 필연적으로 랜더링, 리랜더링이된다.

컴포넌트의 데이터관리는 데이터가 사용되는 최소한의 레벨의 컴포넌트 트리에서 관리를 하면 좋겠다고 생각함. 그래야 최소한의 리랜더링이 일어날테니까.

그러므로 달력 데이터는 달력에서만 사용하므로 자식 컴포넌트에서 CalenderMaker class를 호출함

**[문제발생]** 다음 달, 이전 달의 데이터가 변경되지 않음.

**[원인]** CalenderMaker의 데이터가 변경이되면서 리랜더링이 발생함 -> 또 다시 CalederMaker 호출 다시 이번 달 데이터 리턴 -> ... 반복 -> 달력데이터가 변경되지 않음.

**[해결]** 상위 컴포넌트에서 CalenderMaker를 호출하여 하위 컴포넌트에게 prop로 전달하여 하위 컴포넌트에서 리랜더링이 발생하더라도 CalenderMaker는 다시 호출하지않게 함.

## UI와 로직의 분리에 대해서

ui와 로직을 분리하면 테스트, 유지보수 등 관리하기 좋다는데 나는 왜 체감을 못 하는걸까. <br>
테스트 도구 같은 것을 사용해서 테스트를 사용하지않아서일까? 그럴수도있겠다.

유지보수에서 어려움을 겪는 것같다. ui와 로직을 custom hooks로 분리하는 것은 알겠다. 말은 굉장히 간단한 것같다.

먼저 re-render 이슈랑 비슷한거같은데 생각해보자. <br>
부모 컴포넌트가 하나 있고, 그 안에 컴포넌트가 둘있다. <br>
자식 컴포넌트 1과 다른 자식 컴포넌트2가 서로 값을 공유할 땐 쉽다. 최소공통조상의 레벨이 1이기 때문에 부모 컴포넌트에서 props를 내려주면 해결이다.<br>
그리고 자식 컴포넌트1 중 하나가 복잡한 컴포넌트라서 내부 컴포넌트 depth가 높고 그 위치에서 또 다른 자식 컴포넌트2와 값을 공유한다고할 때는 최소공통조상의 레벨이 높기때문에 props로 내려주기에는 너무 번거롭다. 즉 props drilling이 발생한다. 이때는 컴포넌트합성을 하면된다.
하지만 값을 공유하는 컴포넌트가 많다면 props내려주기, 컴포넌트합성으로는 어렵다. 이때 전역상태관리 라이브러리를 사용해서 값을 관리하고 필요할 때 해당 컴포넌트에서 사용한다.

쓰다보니 생각의 정리가 된것같다. 컴포넌트 하나를 만들때도 oop적인 생각을 하면 좋을 것같다. 똑같은것같기도...
